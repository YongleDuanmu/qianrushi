<xml xmlns="http://www.w3.org/1999/xhtml"><block type="setup" id="FZ;QNouPm+Ydel/bulm8" x="-8" y="-99"><statement name="DO"><block type="block_with_textarea" id="66J,7(Nj[CktsTAH?eYT"><field name="input">//需要操作系统启动前初始化的内容</field><next><block type="block_with_textarea" id="xWLiUKfMSmt6$=5z;3T2"><field name="input">//播报音下拉菜单可以选择，合成音量是指TTS生成文件的音量</field><next><block type="asr_speak" id="MaT`9+Oikgn}zKtgg?A["><field name="VOICE_SET">小蝶-清新女声</field><field name="vol">6</field><field name="speed">10</field><next><block type="block_with_textarea" id="2@?n55;2(xS*c`=7,ke0"><field name="input">//欢迎词指开机提示音，可以为空</field><next><block type="asr_welcom" id=")3`e*f)~4i4wI?[QymJY"><field name="NAME">欢迎使用多媒体智能门禁系统</field><next><block type="block_with_textarea" id="HJx~+H;YsZH70,LqYXPN"><field name="input">//退出语音是指休眠时提示音，可以为空</field><next><block type="asr_sleep" id="T/2u}Q$vc/$/dkOG~rov"><field name="NAME">我退下了，用小智唤醒我</field><next><block type="block_with_textarea" id="BkD0VpH-lb;yAtn`gS$+"><field name="input">//休眠后用唤醒词唤醒后才能执行命令，唤醒词最多5个。回复语可以空。ID范围为0-9999</field><next><block type="asr_id" id="z;IHE4P.32Y=Pe:PfICo"><field name="ASR">小智</field><field name="leibie">唤醒词</field><field name="huifu">我在</field><field name="id">0</field><next><block type="asr_id" id="WGh,bSr^sIm$aEQgotZ^"><field name="ASR">打开灯光</field><field name="leibie">命令词</field><field name="huifu">好的，马上打开灯光</field><field name="id">1</field><next><block type="asr_id" id=".Xid,q-ElB,i-!WiaE6G"><field name="ASR">关闭灯光</field><field name="leibie">命令词</field><field name="huifu">好的，马上关闭灯光</field><field name="id">2</field><next><block type="asr_id" id="V^-jx;8fQ-(t-eduY1UP"><field name="ASR">拍照</field><field name="leibie">命令词</field><field name="huifu">已拍照</field><field name="id">3</field><next><block type="asr_id" id="l:MXSr.~8Y/_C@/Dds2."><field name="ASR">查看照片</field><field name="leibie">命令词</field><field name="huifu">已切换页面</field><field name="id">4</field><next><block type="asr_id" id="1c^#_e0hBhS^K^s`)Mos"><field name="ASR">开门</field><field name="leibie">命令词</field><field name="huifu">已开门</field><field name="id">5</field><next><block type="asr_id" id="Uy+n]J5.mn+DW)pEb;sO"><field name="ASR">关门</field><field name="leibie">命令词</field><field name="huifu">已关门</field><field name="id">6</field><next><block type="asr_id" id="%5%9`3WOj=Ji9/?dI8wJ"><field name="ASR">打开摄像头</field><field name="leibie">命令词</field><field name="huifu">已打开摄像头</field><field name="id">7</field><next><block type="asr_id" id="!196+A-5M|8yEkIs_a{H"><field name="ASR">当前身份</field><field name="leibie">命令词</field><field name="huifu">正在查询</field><field name="id">8</field><next><block type="gpio_funmode_setup" id="6=bNVZI7U=$DwZXP/hG;"><field name="PIN">4</field><field name="fun">FIRST_FUNCTION/output</field></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="hardware_init" id="5(xjiHKGxzSO7.q~)ub2" x="2" y="515"><statement name="DO"><block type="block_with_textarea" id="mRv=s#Ol,$7T%^)k03GW"><field name="input">//需要操作系统启动后初始化的内容</field><next><block type="block_with_textarea" id="dtr+9R=GG,O0wj(yO4Z$"><field name="input">//音量范围1-7</field><next><block type="vol_set" id="]7/`yuVo}+2PuukIy2,8"><value name="num"><shadow type="asr_vol" id="t9hY@q#b_2CO_3/_Z1u#"><field name="PIN">5</field></shadow></value><next><block type="serial_begin" id="lNU%/0$a)q:qcv9G}Hia"><field name="serial_select">Serial</field><field name="TX">PB_5</field><field name="RX">PB_6</field><value name="CONTENT"><shadow type="baud" id="tyTf7pTZb_aAM|;yyVXf"><field name="baud">115200</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type="procedures_defnoreturn" id="_,CA|X7pZb*u76:(u~i6" x="-5" y="730"><field name="NAME">ASR_CODE</field><comment pinned="false" h="80" w="160">描述该功能...</comment><statement name="STACK"><block type="block_with_textarea" id="Y][*{?p4~JC@(h_kq{j8"><field name="input">//本函数是语音识别成功钩子程序
//运行时间越短越好，复杂控制启动新线程运行</field><next><block type="block_with_textarea" id="[;Y-r{cZh|7@8;cMICYj"><field name="input">//唤醒时间设置必须在ASR_CODE中才有效</field><next><block type="set_state_enter_wakeup" id="o_iFgGnjoT`?{b^FdB~("><value name="num"><shadow type="math_number" id="pw~TQu+NtH+xQ0=YVosD"><field name="NUM">30</field></shadow></value><next><block type="block_with_textarea" id="c9tHRr0BT;LG.CvJs..k"><field name="input">//用switch分支选择，根据不同的识别成功的ID执行相应动作，点击switch左上齿轮
//可以增加分支项</field><next><block type="controls_switch_case" id="SVt|/cc$9%|LP[Py(W#N"><mutation elseif="7"></mutation><value name="IF0"><block type="asr_snid" id="uUo}{mhgYzJUrlbl9PBq"></block></value><value name="IF1"><block type="math_number" id="AD#em#X}}iY!T_eyn[Xh"><field name="NUM">1</field></block></value><statement name="DO1"><block type="asr_event_serial_print" id="ecF1F`G(%98dmO4(M!fN"><field name="serial_select">Serial</field><field name="mode">HEX</field><field name="wordwrap">0</field><field name="NAME">01</field><next><block type="gpio_digitalw" id="OxKfJYdk^ye281c$Lb%9"><value name="PIN"><shadow type="pins_digital" id="._9^s#dVB.yg0V0^KQ[L"><field name="PIN">4</field></shadow></value><value name="hg"><shadow type="pins_value" id="47Ro%tHZ64nA8/qHmexw"><field name="PIN">0</field></shadow></value></block></next></block></statement><value name="IF2"><block type="math_number" id="Ip{@!@y]xJj6Sh[J#dnv"><field name="NUM">2</field></block></value><statement name="DO2"><block type="gpio_digitalw" id="O:RfDN%Q0HQ+;)lQvY8d"><value name="PIN"><shadow type="pins_digital" id="v)yWAw7fUP,xTtu}))`Y"><field name="PIN">4</field></shadow></value><value name="hg"><shadow type="pins_value" id=":X*6Fwv0.xRM[1%y0c5G"><field name="PIN">1</field></shadow></value><next><block type="asr_event_serial_print" id="]cVl`uk%_5pxBWi/T3/p"><field name="serial_select">Serial</field><field name="mode">HEX</field><field name="wordwrap">0</field><field name="NAME">02</field></block></next></block></statement><value name="IF3"><block type="math_number" id="R[?!/KD4GJJ]rm/`?PCm"><field name="NUM">3</field></block></value><statement name="DO3"><block type="asr_event_serial_print" id="Z)SswBxW5t`J4Ia*h#yl"><field name="serial_select">Serial</field><field name="mode">HEX</field><field name="wordwrap">0</field><field name="NAME">03</field></block></statement><value name="IF4"><block type="math_number" id="eeit?:yzcv|I2b013E:,"><field name="NUM">4</field></block></value><statement name="DO4"><block type="asr_event_serial_print" id="2*J4a=sBgu`TBkn?!o:1"><field name="serial_select">Serial</field><field name="mode">HEX</field><field name="wordwrap">0</field><field name="NAME">04</field></block></statement><value name="IF5"><block type="math_number" id="6Z*OZy_=au!(*HZ7luW0"><field name="NUM">5</field></block></value><statement name="DO5"><block type="asr_event_serial_print" id="2z=DcK!SlXI]uEl,fd0e"><field name="serial_select">Serial</field><field name="mode">HEX</field><field name="wordwrap">0</field><field name="NAME">05</field><next><block type="servo_write" id="{F2eMlk=+kGoGY8h/wIY"><value name="ioinput"><shadow type="pins_digital" id="25ZUXmx7[1{F-%TWV-/w"><field name="PIN">2</field></shadow></value><value name="num"><shadow type="math_number" id="KTz=3a]]S6.SlQi1)w7c"><field name="NUM">0</field></shadow></value></block></next></block></statement><value name="IF6"><block type="math_number" id="MI}1Q=oKsguk}XM2jr5~"><field name="NUM">6</field></block></value><statement name="DO6"><block type="asr_event_serial_print" id="[1N_DXPtL%?t,Ce8c3Z1"><field name="serial_select">Serial</field><field name="mode">HEX</field><field name="wordwrap">0</field><field name="NAME">06</field><next><block type="servo_write" id="=?i=7{_oR}1P9_%3x_6Q"><value name="ioinput"><shadow type="pins_digital" id="X_s+]cly|9M-8;7K4W?."><field name="PIN">2</field></shadow></value><value name="num"><shadow type="math_number" id="kbSX,Mtdq,%r+b|v}r7b"><field name="NUM">90</field></shadow></value></block></next></block></statement><value name="IF7"><block type="math_number" id="(5rD_@,G-_#[4FK4VI0["><field name="NUM">7</field></block></value><statement name="DO7"><block type="asr_event_serial_print" id="wED/S-Pi}-n0#CQD+UyQ"><field name="serial_select">Serial</field><field name="mode">HEX</field><field name="wordwrap">0</field><field name="NAME">07</field></block></statement><next><block type="block_with_textarea" id="pwn-2^{eRg97{`wnJ5;j"><field name="input">//除了switch分支选择，也可用如果判断识别ID的值来执行动作</field><next><block type="controls_if" id="DG,@)4A.alqGLfM%-{r1"><value name="IF0"><block type="logic_compare" id="v!2uT`4E[d;|p_5u+EQ["><field name="OP">EQ</field><value name="A"><block type="asr_snid" id="s`3QM8x1~rnPGj@bC,t;"></block></value><value name="B"><block type="math_number" id="j,HvX}}[R#Q8.gwsTSrp"><field name="NUM">1</field></block></value></block></value><statement name="DO0"><block type="gpio_digitalw" id="fxuRqlPy,DnIM#?WxxjH"><value name="PIN"><shadow type="pins_digital" id="Za|W!u)f+`]WG]z%D;8n"><field name="PIN">4</field></shadow></value><value name="hg"><shadow type="pins_value" id="2Sm|SH%~;a@_vqA[$PDr"><field name="PIN">0</field></shadow></value></block></statement><next><block type="controls_if" id=";sCUpS6gm5%yH`;1bxz2"><value name="IF0"><block type="logic_compare" id="93`MYt|(/^fBT+@1P^d`"><field name="OP">EQ</field><value name="A"><block type="asr_snid" id="Ac8r;hIHFIOXuDSfaY+N"></block></value><value name="B"><block type="math_number" id="+cH6lKZCa1Ypg:dK^rZk"><field name="NUM">2</field></block></value></block></value><statement name="DO0"><block type="gpio_digitalw" id="L/|@]INsq]Yz/@.AN7?k"><value name="PIN"><shadow type="pins_digital" id="N-e59Wyh,y.|wqc)vyKv"><field name="PIN">4</field></shadow></value><value name="hg"><shadow type="pins_value" id="}4JR:g9WU8)l$NDrLVwS"><field name="PIN">1</field></shadow></value></block></statement><next><block type="block_with_textarea" id="PFJ`M358S?68sb,*U1Y`"><field name="input">//采用如果判断模块，可更方便复制</field></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="thread_app" id="`lf@;=/7NM4~Nvy=FXa6" x="680" y="1076"><field name="app_name">UART_RX</field><field name="uxPriority">4</field><field name="mem">128</field><statement name="DO"><block type="controls_repeat_forever" id="T+84ZzfY5d$3*KT_ys7L"><statement name="DO"><block type="controls_if" id=".^$M!HF2dao`+EX]7H.."><value name="IF0"><block type="logic_compare" id="YZ{F@OH$hRUL^I#nwV]G"><field name="OP">EQ</field><value name="A"><block type="serial_parseInt_Float" id="PnT-,J0.v9x7/dNmf}r;"><field name="serial_select">Serial</field><field name="STAT">read</field></block></value><value name="B"><block type="text_char" id="]Ee%(c55cUn?qa3oblY#"><field name="TEXT">A</field></block></value></block></value><statement name="DO0"><block type="asr_event_play_audio" id="4@Z{XKNxW(ydHry/b5m,"><field name="audio">身份验证成功，欢迎主人1</field></block></statement><next><block type="haodabit_DELAY1" id="L/,-BlJ~U:RX.Q)Q=BlC"><value name="ioinput"><shadow type="math_number" id="[a)$4;4GU!QG:f(v780D"><field name="NUM">2</field></shadow></value></block></next></block></statement></block></statement></block><block type="thread_app" id=",1eU1kH76)rikeQDbuQX" x="682" y="1280"><field name="app_name">UART_RX2</field><field name="uxPriority">4</field><field name="mem">128</field><statement name="DO"><block type="controls_repeat_forever" id="i5A1|K[q;zR).zfzq+k["><statement name="DO"><block type="controls_if" id="N){K9}1~%:4I%lZvPY:B"><value name="IF0"><block type="logic_compare" id="epbCBc9jpTNl;a:bS+dH"><field name="OP">EQ</field><value name="A"><block type="serial_parseInt_Float" id="#gHuu?xnzYs5EINWc1Lx"><field name="serial_select">Serial</field><field name="STAT">read</field></block></value><value name="B"><block type="text_char" id="%SWqAGu#8Is`ZV@NU;0("><field name="TEXT">B</field></block></value></block></value><statement name="DO0"><block type="asr_event_play_audio" id=".*mGF[al~Ujk9p3t~6qa"><field name="audio">身份验证成功，欢迎主人2</field></block></statement><next><block type="haodabit_DELAY1" id=":V+TTvZ}7p]_B~^Z!?R;"><value name="ioinput"><shadow type="math_number" id="/-zW-[YLy#^QFypPE+Qv"><field name="NUM">2</field></shadow></value></block></next></block></statement></block></statement></block></xml>
<!-- edittype="asr_pro" -->
<!-- officialLib="[{"id":"154","version":"0.0.3"}]" -->
<!-- personalLib="[]" -->